# 类型、运算符与表达式

ANSI标准对语言的基本类型做了许多小的修改。

- 所有整型包括 `signed` 和 `unsigned` 两种形式，
- 各种数据类型的取值范围必须在 **<limits.h>** 中定义
- 且可以表示无符号常量与十六进制字符常量。
- 支持枚举类型
- 对象可以声明为 `const` 类型，表明其值不能修改。

所有关键字的字符都必须小写。

`short` 与 `int` 类型至少16位，long类型至少32位，并且 `short` 类型不得长于 `int` 类型，`int` 类型不得长于 `long` 类型。

限定符 `signed` 与 `unsigned` 可用于限定 `char` 类型或任何整型。

**long double** 表示高精度的浮点数。

## 常量

### 数字

- `long` 类型的常量以字母 `l` 或者 `L` 结尾
- 无符号常量以字母 `u` 或者 `U` 结尾
- 后缀 `ul` 或者 `UL` 表明是 `unsigned long` 类型
- 带前缀 `0` 的整型常量表示它为八进制形式
- 带前缀 `0x` 或 `0X` 的整型常量表示它为十六进制形式

浮点常量包含一个小数点（如 1.2）或一个指数(如1e-2)，也可以两者都有

- 没有后缀的浮点常量为 `double` 类型
- 后缀 `f` 或 `F` 表示 `float` 类型
- 后缀 `l` 或者 `L` 表示 `long double` 类型

### 字符

单引号可以包裹一个字符，一个字符常量是一个整数

ANSI C语言中全部转义子序列：

- `\a` 响铃符
- `\b` 回退符
- `\f` 换页符
- `\n` 换行符
- `\r` 回车符
- `\t` 横向制表符
- `\v` 纵向制表符
- `\"` 双引号
- `\'` 单引号
- `\\` 反斜杠本身
- `\?` 问号
- `\000` 三位八进制数
- `\xhh` 两位十六进制数

字符常量 `\0` 表示值为 0 的字符串，也就是空字符(null)，我们通常用`\0`的形式代替 0。

常量表达式在编译时求值，而不是在运行时求值。

### 字符串

字符串常量也叫字符串字面量。

编译时可以将多个字符串常量连接起来：

```c
"Hello,"" world"
// 等价于
"Hello, world"
```

字符串常量就是字符数组。内部使用一个空字符 `\0` 作为串的结尾。实际存储的内容因为有结尾的 `\0` 会比实际字符串内容长度多一个字符。标准库函数 `strlen(s)` 可以返回不包括结尾 `\0` 的字符串长度(实验发现，包含 `\0` 的字符串也可以使用 `strlen(s)` 函数，该函数定义在 `#include <string.h>`)。

### 枚举

没有显示说明的情况下，`enum` 类型的第一个枚举名的值为 `0`，第二个为 `1`，依次类推。

```c
enum boolean { NO, YES }
```

只指定部分枚举名的值，那么未指定值的枚举名的值将依着最后一个指定值向后递增

```c
enum months { JAN=1, FEB, MAR, APR, JUN, JUL, AUG, SEP, OCT, NOV, DEC} /* FEB的值为0，依次类推 */
```

[不同枚举中的名字必须互不相同。同一枚举中的名字可以具有相同的值](./031-enum.c)。

### 声明

所有变量都必须先声明后使用。

任何变量的声明都可以使用 `const` 限定符限定。该限定符指定变量的值不能被修改。对数组而言，`const` 限定符指定数组所有元素都不能被修改。

### 类型转换

强制类型转换的意愿运算符强制进行显示类型转换

```c
(类型名)表达式
```

### 按位运算符

- `&` 按位与(AND)
- `|` 按位或(OR)
- `^` 按位异或(XOR)
- `<<` 左移
- `>>` 右移
- `~` 按位求反（一元运算符）
